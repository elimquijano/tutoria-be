"use strict";(self.webpackChunkberry_free_material_react_cra=self.webpackChunkberry_free_material_react_cra||[]).push([[987],{9987:function(e,t,s){s.r(t),s.d(t,{TextToSpeechWeb:function(){return r}});var n=s(9344);class r extends n.E_{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",(()=>{this.stop()})))}async speak(e){this.speechSynthesis||this.throwUnsupportedError(),await this.stop();const t=this.speechSynthesis,s=this.createSpeechSynthesisUtterance(e);return new Promise(((e,n)=>{s.onend=()=>{e()},s.onerror=e=>{n(e)},t.speak(s)}))}async stop(){this.speechSynthesis||this.throwUnsupportedError(),this.speechSynthesis.cancel()}async getSupportedLanguages(){return{languages:this.getSpeechSynthesisVoices().map((e=>e.lang)).filter(((e,t,s)=>s.indexOf(e)==t))}}async getSupportedVoices(){return{voices:this.getSpeechSynthesisVoices()}}async isLanguageSupported(e){return{supported:(await this.getSupportedLanguages()).languages.includes(e.lang)}}async openInstall(){this.throwUnimplementedError()}createSpeechSynthesisUtterance(e){const t=this.getSpeechSynthesisVoices(),s=new SpeechSynthesisUtterance,{text:n,lang:r,rate:i,pitch:h,volume:o,voice:c}=e;return c&&(s.voice=t[c]),o&&(s.volume=o>=0&&o<=1?o:1),i&&(s.rate=i>=.1&&i<=10?i:1),h&&(s.pitch=h>=0&&h<=2?h:2),r&&(s.lang=r),s.text=n,s}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}}}}]);